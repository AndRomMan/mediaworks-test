{"version":3,"sources":["main.js"],"names":["body","document","authorButton","querySelector","closeButton","modal","SCROLL_PREVENTION","MODAL_OPENED","initModal","addEventListener","authorButtonClickHandler","openModal","classList","add","closeHandler","window","escapeHandler","overlayClickHandler","closeModal","contains","remove","removeEventListener","evt","code","preventDefault","target"],"mappings":"AACA,aAEA,IAAIA,KAAOC,SAASD,KAChBE,aAAeD,SAASE,cAAc,qBACtCC,YAAcH,SAASE,cAAc,iBACrCE,MAAQJ,SAASE,cAAc,UAE7BG,kBAAoB,4BACpBC,aAAe,kBAErB,SAASC,YACHN,cACFA,aAAaO,iBAAiB,QAASC,0BAI3C,SAASA,2BACPC,YAGF,SAASA,YACHX,MACFA,KAAKY,UAAUC,IAAIP,mBAEjBD,OACFA,MAAMO,UAAUC,IAAIN,cAGtBH,YAAYK,iBAAiB,QAASK,cAEtCC,OAAON,iBAAiB,UAAWO,eAEnCf,SAASQ,iBAAiB,QAASQ,qBAGrC,SAASC,aACHlB,KAAKY,UAAUO,SAASb,oBAC1BN,KAAKY,UAAUQ,OAAOd,mBAEpBD,MAAMO,UAAUO,SAASZ,eAC3BF,MAAMO,UAAUQ,OAAOb,cAGzBH,YAAYiB,oBAAoB,QAASP,cAGzCb,SAASoB,oBAAoB,QAASJ,qBAGtCF,OAAOM,oBAAoB,UAAWL,eAIxC,SAASF,eACPI,aAIF,SAASF,cAAcM,GACJ,WAAbA,EAAIC,OACND,EAAIE,iBACJN,cAKJ,SAASD,oBAAoBK,GACRA,EAAIG,SACJpB,OACjBa,aAIJV","file":"main.min.js","sourcesContent":["/* eslint-disable no-console */\n'use strict';\n\nlet body = document.body;\nlet authorButton = document.querySelector('.main-nav__button');\nlet closeButton = document.querySelector('.modal__close');\nlet modal = document.querySelector('.modal');\n\nconst SCROLL_PREVENTION = 'js-body-scroll-prevention';\nconst MODAL_OPENED = 'js-modal-opened';\n\nfunction initModal() {\n  if (authorButton) {\n    authorButton.addEventListener('click', authorButtonClickHandler);\n  }\n}\n\nfunction authorButtonClickHandler() {\n  openModal();\n}\n\nfunction openModal() {\n  if (body) {\n    body.classList.add(SCROLL_PREVENTION);\n  }\n  if (modal) {\n    modal.classList.add(MODAL_OPENED);\n  }\n  // подключаем обработчик нажатия на кнопку close (X)\n  closeButton.addEventListener('click', closeHandler);\n  // подключаем обработчик 'escape'\n  window.addEventListener('keydown', escapeHandler);\n  // подключаем обработчик клика по overlay\n  document.addEventListener('click', overlayClickHandler);\n}\n\nfunction closeModal() {\n  if (body.classList.contains(SCROLL_PREVENTION)) {\n    body.classList.remove(SCROLL_PREVENTION);\n  }\n  if (modal.classList.contains(MODAL_OPENED)) {\n    modal.classList.remove(MODAL_OPENED);\n  }\n  // отключаем обработчик нажатия на кнопку close (X)\n  closeButton.removeEventListener('click', closeHandler);\n\n  // отключаем обработчик клика по overlay\n  document.removeEventListener('click', overlayClickHandler);\n\n  // отключаем обработчик 'escape'\n  window.removeEventListener('keydown', escapeHandler);\n}\n\n// обработчики close (X)\nfunction closeHandler() {\n  closeModal();\n}\n\n// обработчики escape\nfunction escapeHandler(evt) {\n  if (evt.code === 'Escape') {\n    evt.preventDefault();\n    closeModal();\n  }\n}\n\n// обработчик клика по overlay-области\nfunction overlayClickHandler(evt) {\n  const isModalWin = evt.target;\n  if (isModalWin === modal) {\n    closeModal();\n  }\n}\n\ninitModal();\n"]}