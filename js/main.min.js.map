{"version":3,"sources":["main.js"],"names":["body","document","authorButton","querySelector","closeButton","modal","modalCard","html","SCROLL_PREVENTION","MODAL_OPENED","MODAL_CARD_OPENED","MODAL_CARD_FORWARD","MODAL_CARD_BACKWARD","initModal","addEventListener","authorButtonClickHandler","openModal","classList","add","setTimeout","closeHandler","window","escapeHandler","overlayClickHandler","closeModal","contains","remove","removeEventListener","evt","code","preventDefault","target"],"mappings":"AACA,aAEA,IAAIA,KAAOC,SAASD,KAChBE,aAAeD,SAASE,cAAc,qBACtCC,YAAcH,SAASE,cAAc,iBACrCE,MAAQJ,SAASE,cAAc,UAC/BG,UAAYL,SAASE,cAAc,gBACnCI,KAAON,SAASE,cAAc,QAE5BK,kBAAoB,4BACpBC,aAAe,kBACfC,kBAAoB,uBACpBC,mBAAqB,4BACrBC,oBAAsB,6BAE5B,SAASC,YACHX,cACFA,aAAaY,iBAAiB,QAASC,0BAI3C,SAASA,2BACPC,YAGF,SAASA,YACHhB,OACFA,KAAKiB,UAAUC,IAAIV,mBACnBD,KAAKU,UAAUC,IAAIV,oBAEjBH,OACFA,MAAMY,UAAUC,IAAIT,cAElBH,WACFA,UAAUW,UAAUC,IAAIR,mBAGtBJ,WACFa,YAAW,WACTb,UAAUW,UAAUC,IAAIP,sBACvB,KAGLP,YAAYU,iBAAiB,QAASM,cAEtCC,OAAOP,iBAAiB,UAAWQ,eAEnCrB,SAASa,iBAAiB,QAASS,qBAGrC,SAASC,aACHlB,WACFA,UAAUW,UAAUC,IAAIN,qBAG1BO,YAAW,WACLnB,KAAKiB,UAAUQ,SAASjB,qBAC1BR,KAAKiB,UAAUS,OAAOlB,mBACtBD,KAAKU,UAAUS,OAAOlB,oBAEpBH,MAAMY,UAAUQ,SAAShB,eAC3BJ,MAAMY,UAAUS,OAAOjB,cAGrBH,UAAUW,UAAUQ,SAASf,oBAC/BJ,UAAUW,UAAUS,OAAOhB,mBAGzBJ,UAAUW,UAAUQ,SAASd,qBAC/BL,UAAUW,UAAUS,OAAOf,oBAGzBL,UAAUW,UAAUQ,SAASb,sBAC/BN,UAAUW,UAAUS,OAAOd,uBAE5B,KAGHR,YAAYuB,oBAAoB,QAASP,cAGzCnB,SAAS0B,oBAAoB,QAASJ,qBAGtCF,OAAOM,oBAAoB,UAAWL,eAIxC,SAASF,eACPI,aAIF,SAASF,cAAcM,GACJ,WAAbA,EAAIC,OACND,EAAIE,iBACJN,cAKJ,SAASD,oBAAoBK,GACRA,EAAIG,SACJ1B,OACjBmB,aAIJX","file":"main.min.js","sourcesContent":["/* eslint-disable no-console */\n'use strict';\n\nlet body = document.body;\nlet authorButton = document.querySelector('.main-nav__button');\nlet closeButton = document.querySelector('.modal__close');\nlet modal = document.querySelector('.modal');\nlet modalCard = document.querySelector('.modal__card');\nlet html = document.querySelector('html');\n\nconst SCROLL_PREVENTION = 'js-body-scroll-prevention';\nconst MODAL_OPENED = 'js-modal-opened';\nconst MODAL_CARD_OPENED = 'js-modal-card-opened';\nconst MODAL_CARD_FORWARD = 'modal__card--forward-move';\nconst MODAL_CARD_BACKWARD = 'modal__card--backward-move';\n\nfunction initModal() {\n  if (authorButton) {\n    authorButton.addEventListener('click', authorButtonClickHandler);\n  }\n}\n\nfunction authorButtonClickHandler() {\n  openModal();\n}\n\nfunction openModal() {\n  if (body) {\n    body.classList.add(SCROLL_PREVENTION);\n    html.classList.add(SCROLL_PREVENTION);\n  }\n  if (modal) {\n    modal.classList.add(MODAL_OPENED);\n  }\n  if (modalCard) {\n    modalCard.classList.add(MODAL_CARD_OPENED);\n  }\n\n  if (modalCard) {\n    setTimeout(function () {\n      modalCard.classList.add(MODAL_CARD_FORWARD);\n    }, 300);\n  }\n  // подключаем обработчик нажатия на кнопку close (X)\n  closeButton.addEventListener('click', closeHandler);\n  // подключаем обработчик 'escape'\n  window.addEventListener('keydown', escapeHandler);\n  // подключаем обработчик клика по overlay\n  document.addEventListener('click', overlayClickHandler);\n}\n\nfunction closeModal() {\n  if (modalCard) {\n    modalCard.classList.add(MODAL_CARD_BACKWARD);\n  }\n\n  setTimeout(function () {\n    if (body.classList.contains(SCROLL_PREVENTION)) {\n      body.classList.remove(SCROLL_PREVENTION);\n      html.classList.remove(SCROLL_PREVENTION);\n    }\n    if (modal.classList.contains(MODAL_OPENED)) {\n      modal.classList.remove(MODAL_OPENED);\n    }\n\n    if (modalCard.classList.contains(MODAL_CARD_OPENED)) {\n      modalCard.classList.remove(MODAL_CARD_OPENED);\n    }\n\n    if (modalCard.classList.contains(MODAL_CARD_FORWARD)) {\n      modalCard.classList.remove(MODAL_CARD_FORWARD);\n    }\n\n    if (modalCard.classList.contains(MODAL_CARD_BACKWARD)) {\n      modalCard.classList.remove(MODAL_CARD_BACKWARD);\n    }\n  }, 350);\n\n  // отключаем обработчик нажатия на кнопку close (X)\n  closeButton.removeEventListener('click', closeHandler);\n\n  // отключаем обработчик клика по overlay\n  document.removeEventListener('click', overlayClickHandler);\n\n  // отключаем обработчик 'escape'\n  window.removeEventListener('keydown', escapeHandler);\n}\n\n// обработчики close (X)\nfunction closeHandler() {\n  closeModal();\n}\n\n// обработчики escape\nfunction escapeHandler(evt) {\n  if (evt.code === 'Escape') {\n    evt.preventDefault();\n    closeModal();\n  }\n}\n\n// обработчик клика по overlay-области\nfunction overlayClickHandler(evt) {\n  const isModalWin = evt.target;\n  if (isModalWin === modal) {\n    closeModal();\n  }\n}\n\ninitModal();\n"]}